"use strict";(()=>{var e={};e.id=734,e.ids=[734],e.modules={5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6551:e=>{e.exports=import("firebase/app")},4337:e=>{e.exports=import("firebase/firestore")},6762:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},2755:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>A,default:()=>i,routeModule:()=>u});var r=a(9947),n=a(2706),o=a(6762),d=a(9925),c=e([d]);d=(c.then?(await c)():c)[0];let i=(0,o.M)(d,"default"),A=(0,o.M)(d,"config"),u=new r.PagesAPIRouteModule({definition:{kind:n.A.PAGES_API,page:"/api/cms",pathname:"/api/cms",bundlePath:"",filename:""},userland:d});s()}catch(e){s(e)}})},2165:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{db:()=>i});var r=a(6551),n=a(4337),o=e([r,n]);[r,n]=o.then?(await o)():o;let d={apiKey:process.env.REACT_APP_FIREBASE_API_KEY,authDomain:process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:process.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.REACT_APP_FIREBASE_APP_ID},c=(0,r.initializeApp)(d),i=(0,n.getFirestore)(c);s()}catch(e){s(e)}})},9925:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>d});var r=a(2165),n=a(4337),o=e([r,n]);[r,n]=o.then?(await o)():o;let c="cards";async function d(e,t){if("GET"===e.method)try{let e=(0,n.query)((0,n.collection)(r.db,c),(0,n.orderBy)("createdAt","desc")),a=(await (0,n.getDocs)(e)).docs.map(e=>({id:e.id,...e.data()}));t.status(200).json(a)}catch(e){t.status(500).json({message:"Error fetching cards",error:e})}else if("POST"===e.method){let{title:a,description:s,image:o}=e.body;try{await (0,n.addDoc)((0,n.collection)(r.db,c),{title:a,description:s,image:o,createdAt:new Date}),t.status(201).json({message:"Card added successfully!"})}catch(e){t.status(500).json({message:"Error adding card",error:e})}}else if("DELETE"===e.method){let{id:a}=e.body;try{await (0,n.deleteDoc)((0,n.doc)(r.db,c,a)),t.status(200).json({message:"Card deleted successfully!"})}catch(e){t.status(500).json({message:"Error deleting card",error:e})}}else t.status(405).json({message:"Method not allowed"})}s()}catch(e){s(e)}})},2706:(e,t)=>{var a;Object.defineProperty(t,"A",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE"}(a||(a={}))},9947:(e,t,a)=>{e.exports=a(5600)}};var t=require("../../webpack-api-runtime.js");t.C(e);var a=t(t.s=2755);module.exports=a})();