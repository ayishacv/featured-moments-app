(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{206:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return i(1270)}])},1270:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var r=i(4848),n=i(6540),a=i(3750),s=i(2413),l=i(9713),d=i(5243),c=i(2665),o=i(2064),h=i(1501),x=i(2689),u=i(8939),j=i(1917);let A=()=>{let[e,t]=(0,n.useState)({title:"",description:"",image:""}),i=i=>{t({...e,[i.target.name]:i.target.value})},a=async i=>{i.preventDefault(),await fetch("/api/cms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),alert("Card added successfully!"),t({title:"",description:"",image:""})};return(0,r.jsx)(h.A,{sx:{p:3},children:(0,r.jsxs)(x.A,{children:[(0,r.jsx)(s.A,{variant:"h5",gutterBottom:!0,children:"Add New Card"}),(0,r.jsxs)(o.A,{component:"form",display:"flex",flexDirection:"column",gap:3,onSubmit:a,children:[(0,r.jsx)(u.A,{label:"Title",name:"title",value:e.title,onChange:i,required:!0}),(0,r.jsx)(u.A,{label:"Description",name:"description",value:e.description,onChange:i,multiline:!0,rows:3,required:!0}),(0,r.jsx)(u.A,{label:"Image URL",name:"image",value:e.image,onChange:i,required:!0}),(0,r.jsx)(j.A,{variant:"contained",color:"primary",type:"submit",children:"Add Card"})]})]})})};var m=i(44),p=i(1703),g=i(1771),C=i(7568),f=i(8036),y=i(258),v=i(9990);let w=()=>{let[e,t]=(0,n.useState)([]);(0,n.useEffect)(()=>{i()},[]);let i=async()=>{let e=await fetch("/api/cms");t((await e.json()).reverse())},a=async e=>{await fetch("/api/cms",{method:"DELETE",body:JSON.stringify({id:e}),headers:{"Content-Type":"application/json"}}),alert("Card deleted successfully!"),i()};return(0,r.jsxs)(m.A,{component:p.A,children:[(0,r.jsx)(s.A,{variant:"h6",gutterBottom:!0,children:"Current Cards"}),(0,r.jsxs)(g.A,{children:[(0,r.jsx)(C.A,{children:(0,r.jsxs)(f.A,{children:[(0,r.jsx)(y.A,{children:"Title"}),(0,r.jsx)(y.A,{children:"Description"}),(0,r.jsx)(y.A,{children:"Image"}),(0,r.jsx)(y.A,{children:"Actions"})]})}),(0,r.jsx)(v.A,{children:e.map(e=>(0,r.jsxs)(f.A,{children:[(0,r.jsx)(y.A,{children:e.title}),(0,r.jsx)(y.A,{children:e.description}),(0,r.jsx)(y.A,{children:(0,r.jsx)("img",{src:e.image,alt:e.title,width:50})}),(0,r.jsx)(y.A,{children:(0,r.jsx)(j.A,{variant:"outlined",color:"secondary",onClick:()=>a(e.id),children:"Delete"})})]},e.id))})]})]})},b=()=>{let[e,t]=(0,n.useState)(0);return(0,r.jsxs)(a.A,{children:[(0,r.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:"Admin Dashboard"}),(0,r.jsx)(l.A,{position:"static",sx:{bgcolor:"white",boxShadow:"none"},children:(0,r.jsxs)(d.A,{value:e,onChange:(e,i)=>{t(i)},textColor:"primary",indicatorColor:"primary",variant:"fullWidth",children:[(0,r.jsx)(c.A,{label:"Add Card"}),(0,r.jsx)(c.A,{label:"View Cards"})]})}),(0,r.jsxs)(o.A,{mt:4,children:[0===e&&(0,r.jsx)(A,{}),1===e&&(0,r.jsx)(w,{})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[410,723,636,593,792],()=>t(206)),_N_E=e.O()}]);